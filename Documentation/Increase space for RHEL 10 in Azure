Step-by-Step Instructions
1. Check Available Space in the Volume Group
Run the following command to check if there is free space in the rootvg volume group:

bash

Collapse

Wrap

Run

Copy
vgdisplay rootvg
Look for the "Free PE / Size" line in the output. This indicates the available space in the volume group.
If there is enough free space, proceed to step 3.
If there is no free space, you’ll need to add a new physical volume (see step 2).
Example Output:

text

Collapse

Wrap

Copy
--- Volume group ---
  VG Name               rootvg
  ...
  Free  PE / Size       1000 / 4.00 GiB
Here, 4 GiB is available for allocation.

2. Add a New Physical Volume (if no free space in VG)
If the volume group lacks free space, you need to add a new disk or partition to the volume group:

Identify the new disk: Use lsblk or fdisk -l to find the new disk (e.g., /dev/sdb).
Create a physical volume:
bash

Collapse

Wrap

Run

Copy
pvcreate /dev/sdb
Add the physical volume to the volume group:
bash

Collapse

Wrap

Run

Copy
vgextend rootvg /dev/sdb
Verify the added space with vgdisplay rootvg again.
3. Extend the Logical Volume
To increase the size of the logical volume /dev/mapper/rootvg-homelv, use the lvextend command. You can specify the size to add or set an absolute size.

Option 1: Add a specific amount of space (e.g., add 10 GiB):
bash

Collapse

Wrap

Run

Copy
lvextend -L +10G /dev/mapper/rootvg-homelv
Option 2: Set an absolute size (e.g., set to 50 GiB):
bash

Collapse

Wrap

Run

Copy
lvextend -L 50G /dev/mapper/rootvg-homelv
Option 3: Use all available space in the VG:
bash

Collapse

Wrap

Run

Copy
lvextend -l +100%FREE /dev/mapper/rootvg-homelv
Verify the new size with:

bash

Collapse

Wrap

Run

Copy
lvs /dev/mapper/rootvg-homelv
4. Resize the Filesystem
After extending the logical volume, you need to resize the filesystem to use the new space. The command depends on the filesystem type.

Check the filesystem type:
bash

Collapse

Wrap

Run

Copy
df -T /dev/mapper/rootvg-homelv
This will show the filesystem type (e.g., ext4, xfs).
For ext3 or ext4 filesystems: Resize the filesystem to use the new space:
bash

Collapse

Wrap

Run

Copy
resize2fs /dev/mapper/rootvg-homelv
For xfs filesystems: XFS requires the filesystem to be mounted. If /dev/mapper/rootvg-homelv is mounted (e.g., on /home), run:
bash

Collapse

Wrap

Run

Copy
xfs_growfs /home
Replace /home with the actual mount point.
For other filesystems: If you’re using a different filesystem (e.g., btrfs), consult its specific resizing command.
5. Verify the New Size
Check the new filesystem size:

bash

Collapse

Wrap

Run

Copy
df -h /dev/mapper/rootvg-homelv
This should reflect the expanded size.

Troubleshooting
No space in VG: If vgdisplay shows no free space, you must add a new disk or partition (step 2).
Filesystem errors: If resize2fs or xfs_growfs fails, run a filesystem check:
bash

Collapse

Wrap

Run

Copy
fsck /dev/mapper/rootvg-homelv
Mounted filesystem: Ensure the filesystem is mounted for xfs_growfs or unmounted for certain ext4 operations if required.
Permission issues: Ensure you run commands as root or with sudo.
